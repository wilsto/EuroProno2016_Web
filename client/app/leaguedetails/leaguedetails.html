<header role="banner" class="ep2016-header">
    <div class="container navbar-container">
        <!-- <div class="row"> -->
        <navbar></navbar>
        <!-- </div> -->
    </div>
</header>
<div class="bg_default">
    <div class="container wrap-container" id='leagueDetContentContainer'>
        <div class="row">
            <div class="col-sm-12">
                <img src="assets/images/league_bg.jpg" alt="" style="width: 100%;height: auto;margin-bottom:30px;">
            </div>
        </div>
        <div class="row">
            <div class="col-sm-12">
                <h2><a href="/league">All Leagues > </a> {{vm.leaguesdet.name}}<small> ({{vm.members.length}} members)</small></h2>
                <button ng-if="nav.isAdmin()" class="pull-right btn icon-pin" ng-class="{'btn-primary':vm.leaguesdet.pinned  }" type="submit" ng-click="vm.pinLeague()"> Pin</button>
                <div id="League" class="leaguedetContent">
                    <div class="col-sm-3 leagueContentToolTip">
                        <p ng-switch on="vm.leaguesdet.image.substr(0,4)">
                            <img class="imgLeagues" ng-switch-when="http" ng-src="{{vm.leaguesdet.image}}" class="circle ">
                            <img class="imgLeagues" ng-switch-default ng-src="assets/images/leagues/{{vm.leaguesdet.image}}" class="circle ">
                        </p>
                        <br>
                        <button class="btn btn-primary" type="submit" ng-click="vm.JoinLeague()">Join League</button>
                    </div>
                    <div class="col-sm-9">
                        <table class="table table-responsive table-hover">
                            <thead>
                                <tr>
                                    <th><a href='#' ng-click="sort( 'name'); ">Members</a></th>
                                    <th ng-if="vm.leaguesdet.status===1"><a href='#' ng-click="sort( 'members.activated'); ">Activated</a></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="league" ng-repeat="member in vm.members ">
                                    <td> {{member.user_id.name}}</td>
                                    <td ng-if="vm.leaguesdet.status===1"> {{member.activated}}</td>
                                    <td>
                                        <button ng-if="vm.leaguesdet.status===1 && (nav.isAdmin() ||  vm.currentuser!==member.owner_id)" class="btn  glyphicon glyphicon-ok " ng-class="{'btn-primary': member.activated, 'btn-warning': !member.activated}" type="submit" ng-click="vm.AcceptMember(member.user_id._id)"> </button>
                                        <button ng-if="(nav.isAdmin() ||  vm.currentuser===vm.leaguesdet.owner_id) && vm.leaguesdet.owner_id !== member.user_id._id " class="btn btn-danger glyphicon glyphicon-remove " type="submit" ng-bootbox-confirm="Are you sure you want to delete this user ({{member.user_id.name}}) from your league ? <br/><br/><b>It is irreversible. It can't be undone." ng-bootbox-confirm-action="vm.RemoveMember(member.user_id._id)"> </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <!-- fin auto -->
                    </div>
                </div>
            </div>
        </div>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <footer></footer>
    </div>
</div>
